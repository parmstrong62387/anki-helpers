javascript:(function(){function runProgram(){if(!exportProgram.initialized){$("head").append('<link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.12.0/themes/smoothness/jquery-ui.css">');for(var a=0;a<exportProgram.prompts.length;a++)initDialog(a);exportProgram.initialized=!0}console.clear(),exportProgram.index=0,exportProgram.$els=$("table.vocab-table:has(input[type=checkbox]:checked)"),0===exportProgram.$els.length?console.warn("No vocabulary selected."):openDialog(0)}function beginExport(){exportProgram.startTime=new Date,$(document).bind("ajaxSuccess",expandNextVocabularyWord),expandNextVocabularyWord()}function initDialog(a){var b=exportProgram.prompts[a].title,c=exportProgram.prompts[a].key,d="dialog-"+c;$("body").append('<div data-index="'+a+'" id="'+d+'" title="'+b+'"></div>'),$("#"+d).dialog({autoOpen:!1,buttons:{Yes:function(){exportProgram[c]=!0,$(this).dialog("close");var a=Number($(this).data("index"));openDialog(a+1)},No:function(){exportProgram[c]=!1,$(this).dialog("close");var a=Number($(this).data("index"));openDialog(a+1)}}})}function openDialog(a){a<exportProgram.prompts.length?$("#dialog-"+exportProgram.prompts[a].key).dialog("open"):beginExport()}function expandNextVocabularyWord(){var a=exportProgram.$els,b=exportProgram.index;if(b<a.length){console.info("Expanding "+(b+1)+" out of "+a.length+"...");var c=a.eq(b);exportProgram.index++,c.find("span.fa-expand").length>0?c.find("span.fa-expand").click():expandNextVocabularyWord()}else $(document).unbind("ajaxSuccess",expandNextVocabularyWord),performExport()}function saveContent(a,b){var c=document.createElement("a");c.href=a,b?c.download=b:c.download=a,c.click()}function checkAllInRange(a,b){a=a||0,b=b||100,$("table.vocab-table input[type=checkbox]").slice(a,b).attr("checked",!0)}function performExport(){var a="",b="";$("table.vocab-table:has(span.fa-compress)").each(function(){var c=$(this),d=c.next().next().find("embed"),e=c.find("td:eq(1)").text().trim(),f=c.find("td:eq(2)").text().trim(),g=c.find("td:eq(3)").text().trim();if(a.length>0&&(a+="\n",b+="\n"),a+=e+"\t"+g+" ("+f+")",b+=g+" ("+f+")",d.length>0){var h=/url=(.*?\.mp3)/.exec(d.attr("flashvars"))[1],i=h.substring(h.lastIndexOf("/")+1);a+="[sound:"+i+"]",b+="[sound:"+i+"]",exportProgram.downloadAudio&&saveContent(h)}b+="\t"+e}),console.log("Normal: "),console.log(a),console.log("\n\n\n\n"),console.log("Reversed: "),console.log(b),console.log("\n\n\n\n");var c=(new Date-exportProgram.startTime)/1e3;console.info("Export completed. Downloaded "+exportProgram.$els.length+" words in "+c+" seconds."),exportProgram.downloadExportFile&&saveContent("data:,"+a,"export.txt")}var exportProgram={downloadAudio:!0,downloadExportFile:!1,index:0,$els:null,startTime:null,initialized:!1,prompts:[{title:"Download Audio?",key:"downloadAudio"},{title:"Download Export File?",key:"downloadExportFile"}]};runProgram();})()